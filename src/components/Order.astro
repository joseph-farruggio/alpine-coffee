---
export interface Props {
	itemRef: string;
    baristaName: string;
}

const { itemRef,  baristaName} = Astro.props;
const multiplier = baristaName.includes('Barista') ? 1 : 1.5;
---
<div>
    <span class="bg-cyan-400/10 text-cyan-300 px-3 py-1 rounded-full ring-1 ring-instet ring-cyan-400/30">{baristaName}</span>
    <div class="flex flex-col space-y-8">
        <div class="border border-slate-800 bg-slate-900 p-4 rounded-lg h-28 text-slate-50 mt-3">
            <template x-if=`${itemRef}`>
                <div 
                    class="h-full"
                    x-show=`${itemRef}.title`
                    x-transition:enter="transition ease-out duration-300 transform"
                    x-transition:enter-start="-translate-y-2 opacity-0"
                    x-transition:enter-end="translate-y-0 opacity-100"
                    x-transition:leave="transition ease-in duration-300 transform"
                    x-transition:leave-start="translate-y-0 opacity-100"
                    x-transition:leave-end="-translate-y-2 opacity-0">
                    <div class="flex flex-col justify-between h-full">
                        <span x-text=`${itemRef}.title`></span>

                        <div class="w-full bg-cyan-900 h-2 rounded-lg">
                            <div 
                                class="progress-bar bg-cyan-400 w-full h-full rounded-lg" 
                                :style=`{animationDuration: ${itemRef}.waitTime * ${multiplier} + 's'}`></div>
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </div>
</div>

